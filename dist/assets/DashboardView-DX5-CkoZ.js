import{g as f,o as i,c as _,a as e,j as g,p as m,f as b,d as n,r as v,b as a,w as r,F as k,h as $,k as p,l as B,m as C,q as T}from"./index-D4FlFaz6.js";import{S as d}from"./sweetalert2.all-YiQrZab4.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S=t=>(m("data-v-7e7f12cf"),t=t(),b(),t),V={class:"bg-primary"},y={class:"d-flex justify-content-between"},I=S(()=>e("div",{class:"sidebar-head col-md-2 text-white d-block text-decoration-none text-center py-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16"},[e("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})]),n(" 後台管理 ")],-1)),N={__name:"DashboardNav",setup(t){const c=f();function o(){d.fire({title:"是否要登出?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消"}).then(s=>{s.isConfirmed&&(document.cookie="TeaTalkToken=; expires=;",c.push("/login"))})}return(s,u)=>(i(),_("div",V,[e("div",y,[I,e("a",{class:"btn text-white fw-bold px-4",type:"button",onClick:g(o,["prevent"])}," 登出 ")])]))}},R=x(N,[["__scopeId","data-v-7e7f12cf"]]),D={},l=t=>(m("data-v-111db68f"),t=t(),b(),t),M=l(()=>e("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"},null,-1)),j={class:"side-bar p-3"},z={class:"nav text-left fw-bolder"},F={class:"nav-item"},L=l(()=>e("i",{class:"bi bi-box-seam"},null,-1)),q=l(()=>e("i",{class:"bi bi-list-check"},null,-1)),A=l(()=>e("i",{class:"bi bi-ticket-detailed"},null,-1));function E(t,c){const o=v("RouterLink");return i(),_(k,null,[M,e("div",j,[e("ul",z,[e("li",F,[a(o,{class:"nav-link",to:"/admin/products"},{default:r(()=>[L,n(" 商品管理 ")]),_:1}),a(o,{class:"nav-link",to:"/admin/order"},{default:r(()=>[q,n(" 訂單管理 ")]),_:1}),a(o,{class:"nav-link",to:"/admin/coupon"},{default:r(()=>[A,n(" 優惠碼管理 ")]),_:1})])])])],64)}const O=x(D,[["render",E],["__scopeId","data-v-111db68f"]]),G={class:"row gx-0"},H={class:"col-md-2"},J={class:"col"},U={__name:"DashboardView",setup(t){const c=$(!1),o=f(),s=document.cookie.replace(/(?:(?:^|.*;\s*)TeaTalkToken\s*=\s*([^;]*).*$)|^.*$/,"$1");return p.defaults.headers.common.Authorization=s,B(()=>{s?p.post("https://vue-course-api.hexschool.io//api/user/check",{api_token:s}).then(()=>{c.value=!0}).catch(h=>{console.error(h),d.fire({icon:"error",title:"登入失敗",text:"請重新登入!"}),o.push("/login")}):d.fire({icon:"error",title:"登入失敗",text:"請重新登入!"}).then(()=>{o.push("/login")})}),(u,h)=>{const w=v("RouterView");return i(),_(k,null,[a(R),e("div",G,[e("div",H,[a(O)]),e("div",J,[c.value?(i(),C(w,{key:0})):T("",!0)])])],64)}}};export{U as default};
